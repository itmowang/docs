<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>03- Shell脚本学习--字符串和数组 | 魔王の个人学习文档站</title>
    <meta name="description" content="记录，学习，体验生活">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/assets/style.C5CBpUzb.css" as="style">
    
    <script type="module" src="/assets/app.HtoNCcIM.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.CI8or701.js">
    <link rel="modulepreload" href="/assets/chunks/theme.pnz1djWx.js">
    <link rel="modulepreload" href="/assets/shell_chapter3.md.JiclKOFy.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-26ff0e52><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae047c81></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae047c81> Skip to content </a><!--]--><!----><header class="VPNav" data-v-26ff0e52 data-v-2e78b0bd><div class="VPNavBar has-sidebar top" data-v-2e78b0bd data-v-3635ac94><div class="wrapper" data-v-3635ac94><div class="container" data-v-3635ac94><div class="title" data-v-3635ac94><div class="VPNavBarTitle has-sidebar" data-v-3635ac94 data-v-31ebd8a5><a class="title" href="/" data-v-31ebd8a5><!--[--><!--]--><!----><span data-v-31ebd8a5>魔王の个人学习文档站</span><!--[--><!--]--></a></div></div><div class="content" data-v-3635ac94><div class="content-body" data-v-3635ac94><!--[--><!--]--><div class="VPNavBarSearch search" data-v-3635ac94><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-3635ac94 data-v-a1a0902d><span id="main-nav-aria-label" class="visually-hidden" data-v-a1a0902d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-a1a0902d data-v-6c98a3e9><!--[--><span data-v-6c98a3e9>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/shell/index.html" tabindex="0" data-v-a1a0902d data-v-6c98a3e9><!--[--><span data-v-6c98a3e9>Shell</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/git/index.html" tabindex="0" data-v-a1a0902d data-v-6c98a3e9><!--[--><span data-v-6c98a3e9>Git</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-3635ac94 data-v-00c7bf6e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-00c7bf6e data-v-bf12631d data-v-b7343c60><span class="check" data-v-b7343c60><span class="icon" data-v-b7343c60><!--[--><span class="vpi-sun sun" data-v-bf12631d></span><span class="vpi-moon moon" data-v-bf12631d></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-3635ac94 data-v-57cffa2b data-v-f9d82556><!--[--><a class="VPSocialLink no-icon" href="https://github.com/itmowang" aria-label="github" target="_blank" rel="noopener" data-v-f9d82556 data-v-d474e997><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-3635ac94 data-v-4f6096c9 data-v-480bceef><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-480bceef><span class="vpi-more-horizontal icon" data-v-480bceef></span></button><div class="menu" data-v-480bceef><div class="VPMenu" data-v-480bceef data-v-5bbee03e><!----><!--[--><!--[--><!----><div class="group" data-v-4f6096c9><div class="item appearance" data-v-4f6096c9><p class="label" data-v-4f6096c9>Appearance</p><div class="appearance-action" data-v-4f6096c9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-4f6096c9 data-v-bf12631d data-v-b7343c60><span class="check" data-v-b7343c60><span class="icon" data-v-b7343c60><!--[--><span class="vpi-sun sun" data-v-bf12631d></span><span class="vpi-moon moon" data-v-bf12631d></span><!--]--></span></span></button></div></div></div><div class="group" data-v-4f6096c9><div class="item social-links" data-v-4f6096c9><div class="VPSocialLinks social-links-list" data-v-4f6096c9 data-v-f9d82556><!--[--><a class="VPSocialLink no-icon" href="https://github.com/itmowang" aria-label="github" target="_blank" rel="noopener" data-v-f9d82556 data-v-d474e997><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-3635ac94 data-v-ab39859f><span class="container" data-v-ab39859f><span class="top" data-v-ab39859f></span><span class="middle" data-v-ab39859f></span><span class="bottom" data-v-ab39859f></span></span></button></div></div></div></div><div class="divider" data-v-3635ac94><div class="divider-line" data-v-3635ac94></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-26ff0e52 data-v-c25c5dfa><div class="container" data-v-c25c5dfa><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-c25c5dfa><span class="vpi-align-left menu-icon" data-v-c25c5dfa></span><span class="menu-text" data-v-c25c5dfa>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-c25c5dfa data-v-a8d87c8b><button data-v-a8d87c8b>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-26ff0e52 data-v-58e9aab1><div class="curtain" data-v-58e9aab1></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-58e9aab1><span class="visually-hidden" id="sidebar-aria-label" data-v-58e9aab1> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-58e9aab1><section class="VPSidebarItem level-0 has-active" data-v-58e9aab1 data-v-6aa9de18><!----><div class="items" data-v-6aa9de18><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6aa9de18 data-v-6aa9de18><div class="item" data-v-6aa9de18><div class="indicator" data-v-6aa9de18></div><a class="VPLink link link" href="/shell/index.html" data-v-6aa9de18><!--[--><p class="text" data-v-6aa9de18>介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6aa9de18 data-v-6aa9de18><div class="item" data-v-6aa9de18><div class="indicator" data-v-6aa9de18></div><a class="VPLink link link" href="/shell/chapter1.html" data-v-6aa9de18><!--[--><p class="text" data-v-6aa9de18>01- Shell脚本学习-入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6aa9de18 data-v-6aa9de18><div class="item" data-v-6aa9de18><div class="indicator" data-v-6aa9de18></div><a class="VPLink link link" href="/shell/chapter2.html" data-v-6aa9de18><!--[--><p class="text" data-v-6aa9de18>02- Shell脚本学习-运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6aa9de18 data-v-6aa9de18><div class="item" data-v-6aa9de18><div class="indicator" data-v-6aa9de18></div><a class="VPLink link link" href="/shell/chapter3.html" data-v-6aa9de18><!--[--><p class="text" data-v-6aa9de18>03- Shell脚本学习-字符串和数组</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6aa9de18 data-v-6aa9de18><div class="item" data-v-6aa9de18><div class="indicator" data-v-6aa9de18></div><a class="VPLink link link" href="/shell/chapter4.html" data-v-6aa9de18><!--[--><p class="text" data-v-6aa9de18>04- Shell脚本学习-条件控制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6aa9de18 data-v-6aa9de18><div class="item" data-v-6aa9de18><div class="indicator" data-v-6aa9de18></div><a class="VPLink link link" href="/shell/chapter5.html" data-v-6aa9de18><!--[--><p class="text" data-v-6aa9de18>05- Shell脚本学习-函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6aa9de18 data-v-6aa9de18><div class="item" data-v-6aa9de18><div class="indicator" data-v-6aa9de18></div><a class="VPLink link link" href="/shell/chapter6.html" data-v-6aa9de18><!--[--><p class="text" data-v-6aa9de18>06- Shell脚本学习-其它</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-26ff0e52 data-v-33111bc0><div class="VPDoc has-sidebar has-aside" data-v-33111bc0 data-v-9ed3fdf9><!--[--><!--]--><div class="container" data-v-9ed3fdf9><div class="aside" data-v-9ed3fdf9><div class="aside-curtain" data-v-9ed3fdf9></div><div class="aside-container" data-v-9ed3fdf9><div class="aside-content" data-v-9ed3fdf9><div class="VPDocAside" data-v-9ed3fdf9 data-v-db027f93><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-db027f93 data-v-0359ed1b><div class="content" data-v-0359ed1b><div class="outline-marker" data-v-0359ed1b></div><div class="outline-title" role="heading" aria-level="2" data-v-0359ed1b>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-0359ed1b><span class="visually-hidden" id="doc-outline-aria-label" data-v-0359ed1b> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-0359ed1b data-v-e53e7a28><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-db027f93></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-9ed3fdf9><div class="content-container" data-v-9ed3fdf9><!--[--><!--]--><main class="main" data-v-9ed3fdf9><div style="position:relative;" class="vp-doc _shell_chapter3" data-v-9ed3fdf9><div><h1 id="_03-shell脚本学习-字符串和数组" tabindex="-1">03- Shell脚本学习--字符串和数组 <a class="header-anchor" href="#_03-shell脚本学习-字符串和数组" aria-label="Permalink to &quot;03- Shell脚本学习--字符串和数组&quot;">​</a></h1><p>标签： Shell</p><hr><p>[TOC]</p><h2 id="字符串" tabindex="-1">字符串 <a class="header-anchor" href="#字符串" aria-label="Permalink to &quot;字符串&quot;">​</a></h2><p>字符串是shell编程中最常用最有用的数据类型（除了数字和字符串，也没啥其它类型好用了），字符串可以用单引号，也可以用双引号，也可以不用引号。单双引号的区别跟PHP类似：</p><p>单双引号的区别：</p><ul><li>双引号里可以有变量，单引号则原样输出；</li><li>双引号里可以出现转义字符，单引号则原样输出；</li><li>单引号字串中不能出现单引号。</li></ul><h3 id="拼接字符串" tabindex="-1">拼接字符串 <a class="header-anchor" href="#拼接字符串" aria-label="Permalink to &quot;拼接字符串&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;i&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;love&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;you&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $str1 $str2 $str3</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $str1$str2$str3</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $str1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$str2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$str3</span></span></code></pre></div><p>输出：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>i love you</span></span>
<span class="line"><span>iloveyou</span></span>
<span class="line"><span>i,love,you</span></span></code></pre></div><h3 id="获取字符串长度" tabindex="-1">获取字符串长度 <a class="header-anchor" href="#获取字符串长度" aria-label="Permalink to &quot;获取字符串长度&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;i love you&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出：10</span></span></code></pre></div><h3 id="截取字符串" tabindex="-1">截取字符串 <a class="header-anchor" href="#截取字符串" aria-label="Permalink to &quot;截取字符串&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;i love you&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">1} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从第1个截取到末尾。注意从0开始。</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">2} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从第2个截取2个。</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">0} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 全部截取。</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">3} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 负数无效，视为0。</span></span></code></pre></div><p>输出：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>love you</span></span>
<span class="line"><span>lo</span></span>
<span class="line"><span>i love you</span></span>
<span class="line"><span>i love you</span></span></code></pre></div><h3 id="查找字符串" tabindex="-1">查找字符串 <a class="header-anchor" href="#查找字符串" aria-label="Permalink to &quot;查找字符串&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;i love you&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$str</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; l`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$str</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; you`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #最后一个参数是字符，会对后面字符串每一个单独查找，返回最靠前的index</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$str</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; o`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> length &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$str</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #字符串长度</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> substr &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$str</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #从字符串中位置1开始截取6个字符。索引是从0开始的。</span></span></code></pre></div><p>输出:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>i love</span></span></code></pre></div><p>注意字符串变量需要加双引号。第2个例子里<code>you</code>虽然<code>y</code>的index是8,但是<code>o</code>在前面已经出现过,index是4，最终取所有字符里最靠前的index。</p><p>*拓展：<code>expr</code>更多关于字符串用法：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">STRING</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> REGEXP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   anchored</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pattern</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> match</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> REGEXP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> STRING</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">match</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> STRING</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> REGEXP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        same</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> STRING</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> REGEXP</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">substr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> STRING</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LENGTH</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   #从STRING中POS位置开始截取LENGTH个字符。POS索引是从1开始的。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> STRING</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CHARS</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         #在STRING中查找字符CHARS首次出现的位置，没有找到返回0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> STRING</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              #字符串长度</span></span></code></pre></div><h2 id="数组" tabindex="-1">数组 <a class="header-anchor" href="#数组" aria-label="Permalink to &quot;数组&quot;">​</a></h2><p>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。类似与C语言，数组元素的下标由0开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于0。</p><p>在Shell中，用括号来表示数组，数组元素用<code>空格</code>符号分割开。定义数组的一般形式为：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">value1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> valuen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>例如：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">value0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>或者</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    value0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    value1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    value2</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    value3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>还可以单独定义数组的各个分量：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name[0]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">value0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name[1]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">value1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name[2]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">value2</span></span></code></pre></div><p>可以不使用连续的下标，而且下标的范围没有限制。</p><p>下面来读取数组：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${array_name[2]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#读取下标为2的元素</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${array_name[*]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#读取所有元素</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${array_name[@]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#读取所有元素</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name[*]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#获取数组长度</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name[@]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#获取数组长度</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array_name[1]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#获取数组中单个元素的长度</span></span></code></pre></div><p>输出：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6</span></span></code></pre></div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>对比shell里字符串和数组，我们发现：</p><p>字符串</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 读取字符串长度</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${str} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 读取字符串全部</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">1} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 截取字符串</span></span></code></pre></div><p>数组：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">a1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr[*]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 读取数组长度</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr[1]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 读取数组某个元素长度</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${arr[*]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 读取数组全部</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${arr[1]} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 读取数组某个元素</span></span></code></pre></div><p><code>${#ele*}</code>用来读取ele元素长度属性 <code>${ele*}</code>用来读取或操作ele元素</p></div></div></main><footer class="VPDocFooter" data-v-9ed3fdf9 data-v-e03bb7bc><!--[--><!--]--><!----><nav class="prev-next" data-v-e03bb7bc><div class="pager" data-v-e03bb7bc><a class="VPLink link pager-link prev" href="/shell/chapter2.html" data-v-e03bb7bc><!--[--><span class="desc" data-v-e03bb7bc>Previous page</span><span class="title" data-v-e03bb7bc>02- Shell脚本学习-运算符</span><!--]--></a></div><div class="pager" data-v-e03bb7bc><a class="VPLink link pager-link next" href="/shell/chapter4.html" data-v-e03bb7bc><!--[--><span class="desc" data-v-e03bb7bc>Next page</span><span class="title" data-v-e03bb7bc>04- Shell脚本学习-条件控制</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"BUCwiEfG\",\"shell_chapter5.md\":\"Dug5Zv4h\",\"shell_index.md\":\"jvc7-b6n\",\"git_index.md\":\"DUxESQAK\",\"git_chapter1.md\":\"PmhcoaLx\",\"shell_chapter2.md\":\"DFUdKSav\",\"index.md\":\"Ih4sfuJp\",\"shell_chapter1.md\":\"BRiT20vN\",\"shell_chapter4.md\":\"Clwhy06z\",\"shell_chapter3.md\":\"JiclKOFy\",\"shell_chapter6.md\":\"Clubk0Xf\",\"markdown-examples.md\":\"DYLFRYaf\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"魔王の个人学习文档站\",\"description\":\"记录，学习，体验生活\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"Shell\",\"link\":\"/shell/index\"},{\"text\":\"Git\",\"link\":\"/git/index\"}],\"sidebar\":{\"/shell\":{\"base\":\"\",\"items\":[{\"items\":[{\"text\":\"介绍\",\"link\":\"/shell/index\"},{\"text\":\"01- Shell脚本学习-入门\",\"link\":\"/shell/chapter1\"},{\"text\":\"02- Shell脚本学习-运算符\",\"link\":\"/shell/chapter2\"},{\"text\":\"03- Shell脚本学习-字符串和数组\",\"link\":\"/shell/chapter3\"},{\"text\":\"04- Shell脚本学习-条件控制\",\"link\":\"/shell/chapter4\"},{\"text\":\"05- Shell脚本学习-函数\",\"link\":\"/shell/chapter5\"},{\"text\":\"06- Shell脚本学习-其它\",\"link\":\"/shell/chapter6\"}]}]},\"/git\":{\"base\":\"\",\"items\":[{\"items\":[{\"text\":\"介绍\",\"link\":\"/git/index\"},{\"text\":\"常用 Git 命令清单\",\"link\":\"/git/chapter1\"}]}]}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/itmowang\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>